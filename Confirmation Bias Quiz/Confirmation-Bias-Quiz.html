<!DOCTYPE html>
<html>
<head>

    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <title>TEST 1: Confirmation Bias</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="Paschaleris Triantafyllos">
    <meta name="keywords" content="some puzzle">
    <meta name="robots" content="all">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



    <link href="https://fonts.googleapis.com/css?family=Padauk:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700" rel="stylesheet">


    <style type="text/css">
    	body {
            font-family: 'Josefin Sans', sans-serif;
    		font-size: 1.1em;
    		background-color: #22313F;
    		min-width: 512px;
    	}
    	.wrapper{
    		margin: 1% auto;
    		padding: 2% 5%;
    		color: #666;
    		min-width: 456px;
            max-width: 678px;
    		background-color: #DADFE1;
            box-shadow: 1px 8px 22px rgba(9,9,9,0.8);
    	}
    	form {
    		min-width: 410px;
    		max-width: 542px;
    		background-color: white;
    		padding: 20px 25px;
    		margin: auto;
    		margin-top: 30px;
    		box-shadow: -1px 1px 3px rgba(3,3,3,0.3);
    	}
    	form input,
    	form textarea {
    		font: inherit;
            font-size: 1.2em;
            font-weight: 700;
            color: #22313F;
            text-align: center;
    		padding: 4px 7px;
    		width: 99%;
            margin: 3px auto 15px auto;
    		box-sizing: border-box;
    	}
    	form .row{
    		display: inline-block;
    		width: 100%;
    		text-align: center;
    	}
    	form .cell{
    		display: inline-block;
    		width: 16%;
    		margin-left: 3%;
    		margin-right: 3%;
    		padding-left: 2%;
    		padding-right: 2%;
            background: #ECECEC;

            border: solid 5px #c9c9c9;
            box-shadow: inset 0 0 0 1px #DADFE1;
            transition: box-shadow 0.3s, border 0.3s;
    	}
        form .cell:focus, .cell.focus{
            border: solid 5px #22313F;
        }

        form .userInfoBox{
            padding: 10px;
            border: none;
            border-bottom: solid 2px #c9c9c9;
            transition: border 0.3s;
        }
        form .userInfoBox:focus, .userInfoBox.focus{
            border-bottom: solid 2px #22313F;

        }

    	form button {
    		border: 1px solid rgba(1,1,1,0.2);
    		padding: 8px 35px;
    		font-size: 12px;
    		background: #6C7A89;
    		color: #ECF0F1;
            box-shadow: 1px 1px 2px rgba(22,6,88,0.4);
            cursor: pointer;
    	}
    	form label {
    		color: #22313F;
    		font-size: 0.8em;
    		margin-bottom: 0;
    		display: block;
    	}
        h2{
            text-align: justify;
        }
    	h4{
    		color: #c0392b;
    	}
        p{
            font-family: 'Padauk', sans-serif;
            text-align: justify;
        }




    	.valid {
    		display: inline-block;
    		width: 32px;
			height: 29px;
			background-repeat: no-repeat;
			background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAdCAMAAAD8QJ61AAAAsVBMVEUAAAA2miU5nCgnkhQ6nCk4mycymCEpkxcdjQo2myU1mSQvlx4kkREhkA4ajActkxskjRIUiAAKhABHoThOpj9YqUpOpkBAnjEtkB0ojhggiw4XigMWigIBfgBaqU1WqkhkrVhVqkZFoTYtlhsPhgAymCFCmzM2mSQqlBhMoD5NpT8pkxc8nSs8lytUqEU1mSRIozhSqEM6nCkslRtWqkg5mydFoTUokhVZq0tksVdVqkbFg9MrAAAAO3RSTlMA9fX19fX19fX19fX19fX19fX1zZT19fX19fX19fW2r6ih9fX17uXb2tHPzs3LycLAv7irp6WhoI2DeqEo1cgAAADgSURBVCjPhZHncsJADISRrjfb2CGhh/TeC+X9HwwGhhkwZtEv6T7tnLRq4Vic4I/PmA/PIZ6PriH/L7H+cnQB+bhkyKdZhPwqWcjPROrAhpgk1hvI/0xQHaj3GjpgPRdvey+zn92qrVlU+5JM2B0eOO/WPInyJtsWQnDo1f58j8Sh3OSvVlK/PlRlFbER6wO2petPDsZ+EZJk9rvKBuTEU8NiVZJEqzGG2vlu4+opKKWN0YqLSbM5t0xKa3b5/RH3Pq0kIk+9o/7eGUVEBbjAQJEzY9DwZX3MWyi+Hz6awRIvuAryz55CVwAAAABJRU5ErkJggg==); /* This is the base64 of green Tick image */
    	}
        .invalid {
            display: inline-block;
            width: 32px;
            height: 29px;
            background-repeat: no-repeat;
            background-image:  url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAgCAMAAADQQiM0AAABKVBMVEUAAADSJiLSKCTSJCDSIh7QGhXRIBzQHRfPFhLRIBrQGBTPFA/MCwbRHhnRGxbOEg7TKSbOEQzQGBLNDQnTJyTWNDLeYmHlh4XnhILMCAPVMjDTLinaR0XhcG3YR0bkcnLSJCDQHhrPGRXVNTLULyvXOzbaS0fYPzzcVVHZREPWPTrZR0TWPDrgWljcVlLdXlzdVlXVNjPcW1jfa2bkf3rhcW/lgoTWOTreamjiennngYDqop7LAgDQIh/SIyLTJSHSJR/QHxvTMi7TLCfQJSPbQkDVLyzZQ0DSNDDSNzXZOTfbU0/XRUXTNjPXNzjbTkvdXVraTUvXR0baVE/YQz7eYl/aWFXfaGbdXGDibGvWMzXdWVfhWlfVPDnXTEzeamXmiIHhWVzdYV4As20cAAAAY3RSTlMA9fX19fX19fX19fX19fX19fX19d2nQx0F9cG6gEEWDPDr6NDHuZmZkY2GhHx1cm9sa11NQjIxMSooFw/19Ovl5NrZvr23tK+vrKmjn5+ejId9cWVlY2FeXVdST01NSzk0MyRwylReAAABeklEQVQoz3WR13IaQRBFuydv3iUJEKBkZStZsq2cc845//9HqLUgxAI6L3OrTvXU9B34gfw8tCOXg9kOgMpsvknM2aZ/DmDI2MWJpOkPokE69o3yZLZRjKdRPXTRbbs2iqD0Lf4Zi3cP5oDYMijk5Jd4XTbMylxBTKfPhH9ee+1aFHrmD9QoalSp8TgepkPLXMAXlV7FhP5N6STNhEsTdcrCitWYy7k7Bo1M+RxF916PQHcIkow4iFzzML0NzRxJJOT6ArSQ9WjKuYFWJhyaEZ2tYlopJFLHzWLG8UMuBeN6JCnKmhpaOcvQxs5ko/jr24xFA/BkOHL7/lt09EqGuoe+pORxVNZj3fxyGHL3Oo4SUennmhiNELEwEOf/Fke0vLfqJzqKCi5ClVIKEXWmC4idgAk5TLHKps1oreznvOLonkKd+VXJkAdlgEsZRolOXgLNrL4KwEFgMsmCc1qaPlrSk4VpSPK+sZTNw2jBvoO2DC/OQHumbn8QH1RyHz6ZjkUZAAAAAElFTkSuQmCC'); /* This is the base64 of red Cross image */
        }
    </style>


</head>

<body>
	<div class="wrapper">
		<h3>In this simple quiz you will have the opportunity to test your daily thinking and decision making.</h3>
		<h3>Explanation:</h3>

		<p>There is a secret rule that describes a secret sequence of numbers. <br> Your task is to find the rule by trying your hypotheses and <b>write it down with plain words not giving another set of three numbers. </b></p><h4>The given subsequence is: <strong>2 4 6</strong></h4>
		<p>Using the boxes below (six rows of grouped three boxes) you may try any subsequence of three numbers checking if it is correct (shows Tick symbol) or wrong (shows Cross mark). You can even retry on every row. </p>
        <p>When you are ready with your answer, you can write it in the first field (describe your answer). Please <em>complete the fields below and press the "Send" button. By submitting your response, you will immediately see the answer. </em></p>


		<form id="myform" method="post">
			<div class="row">
				<input class="cell" id="a1" type="text" name="a1" />
				<input class="cell" id="a2" type="text" name="a2" />
				<input class="cell" id="a3" type="text" name="a3" />
			</div>
			<input type="hidden" id="validationRowA" name="validationRowA" value="" />
			<div class="row">
				<input class="cell" id="b1" type="text" name="b1" />
				<input class="cell" id="b2" type="text" name="b2" />
				<input class="cell" id="b3" type="text" name="b3" />
			</div>
			<input type="hidden" id="validationRowB" name="validationRowB" value="" />
			<div class="row">
				<input class="cell" id="c1" type="text" name="c1" />
				<input class="cell" id="c2" type="text" name="c2" />
				<input class="cell" id="c3" type="text" name="c3" />
			</div>
			<input type="hidden" id="validationRowC" name="validationRowC" value="" />
			<div class="row">
				<input class="cell" id="d1" type="text" name="d1" />
				<input class="cell" id="d2" type="text" name="d2" />
				<input class="cell" id="d3" type="text" name="d3" />
			</div>
			<input type="hidden" id="validationRowD" name="validationRowD" value="" />
			<div class="row">
				<input class="cell" id="e1" type="text" name="e1" />
				<input class="cell" id="e2" type="text" name="e2" />
				<input class="cell" id="e3" type="text" name="e3" />
			</div>
			<input type="hidden" id="validationRowE" name="validationRowE" value="" />
			<div class="row">
				<input class="cell" id="f1" type="text" name="f1" />
				<input class="cell" id="f2" type="text" name="f2" />
				<input class="cell" id="f3" type="text" name="f3" />
			</div>
			<input type="hidden" id="validationRowF" name="validationRowF" value="" />
			<br><br>
			<br>
			<label>describe your answer:</label>
			<input class="userInfoBox" type="text" name="answer" />
			<br><br>
			<label>your email</label>
			<input class="userInfoBox" type="text" name="from_email" />
			<label>your name</label>
			<input class="userInfoBox" type="text" name="from_name" />
			<br><br><br>

			<button>
				Send
			</button>
		</form>


		<h3>You are advised to read about <a href="http://doitlikeplato.com/confirmation-bias/" target="_blank">Confirmation Bias</a>, to learn more about the purpose of this quiz.</h3>


	</div><!-- End of .wrapper -->



	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>


    <script type="text/javascript">
		(function(){
			emailjs.init("#####your_user#####"); // <------------ COMPLETE IT
		})();
	</script>
	<script type="text/javascript">
        function validateEmail(email) { // Validate the email via regex
            var mailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return mailRegex.test(email);
        }
        function validateName(name) {
            return name.length > 1; // At least there is something written
        }
        function validateAnswer(answer){
            return answer.length > 3; // At least there is something written
        }

        function formValidation(email,name,answer) {
            return validateEmail(email) && validateName(name) && validateAnswer(answer)
        }

		var myform = $("#myform");
		myform.submit(function(event){
            event.preventDefault();
            if (formValidation($("input[name=from_email]").val(), $("input[name=from_name]").val(), $("input[name=answer]").val())) {


                // Change to your service ID, or keep using the default service
                var service_id = "#####your_service_id#####"; // <------------ COMPLETE IT
                var template_id = "#####your_template_id#####"; // <------------ COMPLETE IT


                myform.find("button").text("Sending..."); // Change the name of the Send button to let user know about the sending process 
                emailjs.sendForm(service_id, template_id, "myform")
                    .then(function () {
                        alert("Answer Sent!\n\nThe correct answer is:\nEvery increasing sequence!\nThis means, this could be\n1, 24.5, 1680\nor -345, 0, 2 .\nMost people tend to think that it is the increase of two numbers and stick to that without trying any other alternatives.\nThis happens because people tend to try to find information confirming their initial belief and not the reality. This is called\t confirmation bias.\n\n Click \"OK\" and learn more about Confirmation Bias."); // Alerting the user about the correct answer
                        myform.find("button").text("Send"); // Change back the name of the Send button to it's original state-name
                        window.location = '/confirmation-bias/'; // Redirect user to read about Confirmation Bias
                    }, function (err) {
                        alert("Send email failed!\n Response:\n " + JSON.stringify(err)); // Alerting the user that the sending failed...
                        myform.find("button").text("Send"); // Change back the name of the Send button to it's original state-name
                    });
                return false;
            } else {
                myform.find("button").text("Check your email & name. Resubmit."); // Change the name of the Send button to let user know about the pending issues 
            }
		});
	</script>

	<script type="text/javascript">
	        function checkIfRowIsValid(a, b, c) { // The sequence is just an incremental set
    		return ( parseFloat(a)<parseFloat(b) ) && ( parseFloat(b)<parseFloat(c) );
		}

		function commaToDot(selector) { // Convert a number "3,6" to javascript's recognized number locale "3.6" // Input: Element selector $(this)
			var val = selector.val();
			if (/[,||.]/.test(val)){ // Check if the value has both comma AND dot. Damn numbering systems!
				if (val.indexOf('.') > val.indexOf(',')){ // The val is in US locale as: 1,000,000.22 
					return (val.replace(/,/g, '')); // ...so just remove commas to become 1000000.22
				} else { // The val is in International locale (e.g. Greek) as: 1.000.000,22
					val = val.replace(/\./g, ''); // ...so just remove the damn dots to become 1000000,22 . Latter the remaining comma with be converted to dot in order to match Javascript's locale
				}
			}
    		return ( val.replace(/,/g, '.') ); // Replace commas with dots. Excessive dots will be handled by parseFloat() latter on another function
		}

		$(function() {
			$('.cell').change(function() {

                if (isNaN(commaToDot($(this))) || $(this).val().length > 30) { //Reseting the value to empty if it is not a valid number
                    $(this).val("");
                }

                var rows = ["a", "b", "c", "d", "e", "f"]; // Set the row names in a list
                rows.forEach(function(row) { //Recheck all cells, just in case of something missed/injected before...
                    var $validation = $('#' + row + 3), // The tick mark will show .after third (3) column
                        $validationMark = $validation.next(),   // This is the validation (tick/cross) mark
                        $cell1Val = commaToDot($('#' + row + 1)),     // First cell's value in the row
                        $cell2Val = commaToDot($('#' + row + 2)),     // Second cell's value in the row
                        $cell3Val = commaToDot($validation);          // Third cell's value in the row

                    if (!$cell1Val || !$cell2Val || !$cell3Val){ // The sequence is empty so remove the validation mark
                        $validationMark.remove();
                        $('#validationRow' + row.toUpperCase()).val("");
                    } else if (checkIfRowIsValid( $cell1Val, $cell2Val, $cell3Val )){ //The sequence is correct
                        if ($validationMark.length == 0 || !$validationMark.is('.valid')){ // also check if there is NOT valid mark
                            $validationMark.remove();
                            $validation.after('<div class="valid"></div>');
                            $('#validationRow' + row.toUpperCase()).val("Valid");
                        } // else do NOTHING
                    } else { // The sequence is incorrect
                        if (!$validationMark.is('.invalid')){  // also check if there is NOT invalid mark
                            $validationMark.remove();
                            $validation.after('<div class="invalid"></div>');
                            $('#validationRow' + row.toUpperCase()).val("Invalid");
                        } // else do NOTHING
                    }


                });

			});
		});
	</script>

<!-- This page is handcrafted with love and coffee by Paschaleris Triantafyllos -->
<!-- If you have any suggestions feel free to contact me: https://paschaleris.gr -->
</body>
</html>
